<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZNC: CGetAddrInfo Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ZNC
   &#160;<span id="projectnumber">trunk</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCGetAddrInfo-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CGetAddrInfo Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>this function is a wrapper around getaddrinfo (for ipv6)  
 <a href="classCGetAddrInfo.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Csocket_8h_source.html">Csocket.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a88796e7dbb9c7fb21f652351ac920ecb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGetAddrInfo.html#a88796e7dbb9c7fb21f652351ac920ecb">CGetAddrInfo</a> (const <a class="el" href="third__party_2Csocket_2examples_2defines_8h.html#a6692c05392220a687252ecd5dacf78ad">CS_STRING</a> &amp;sHostname, <a class="el" href="classCsock.html">Csock</a> *pSock, <a class="el" href="classCSSockAddr.html">CSSockAddr</a> &amp;csSockAddr)</td></tr>
<tr class="memdesc:a88796e7dbb9c7fb21f652351ac920ecb"><td class="mdescLeft">&#160;</td><td class="mdescRight">ctor  <a href="#a88796e7dbb9c7fb21f652351ac920ecb">More...</a><br /></td></tr>
<tr class="separator:a88796e7dbb9c7fb21f652351ac920ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af12fbc77cedbf0d538e13c5107755249"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGetAddrInfo.html#af12fbc77cedbf0d538e13c5107755249">~CGetAddrInfo</a> ()</td></tr>
<tr class="separator:af12fbc77cedbf0d538e13c5107755249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac031f503d2e201468a9984a370483a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGetAddrInfo.html#aac031f503d2e201468a9984a370483a1">Init</a> ()</td></tr>
<tr class="memdesc:aac031f503d2e201468a9984a370483a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">simply sets up m_cHints for use in process  <a href="#aac031f503d2e201468a9984a370483a1">More...</a><br /></td></tr>
<tr class="separator:aac031f503d2e201468a9984a370483a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a315c0fc484347988f22fd4ed42499db6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGetAddrInfo.html#a315c0fc484347988f22fd4ed42499db6">Process</a> ()</td></tr>
<tr class="memdesc:a315c0fc484347988f22fd4ed42499db6"><td class="mdescLeft">&#160;</td><td class="mdescRight">the simplest part of the function, only calls getaddrinfo and uses only m_sHostname, m_pAddrRes, and m_cHints.  <a href="#a315c0fc484347988f22fd4ed42499db6">More...</a><br /></td></tr>
<tr class="separator:a315c0fc484347988f22fd4ed42499db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa966eeec4d0b1643e8cdbae65ab9076d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGetAddrInfo.html#aa966eeec4d0b1643e8cdbae65ab9076d">Finish</a> ()</td></tr>
<tr class="memdesc:aa966eeec4d0b1643e8cdbae65ab9076d"><td class="mdescLeft">&#160;</td><td class="mdescRight">finalizes and sets up csSockAddr (and pSock if not NULL), only needs to be called if Process returns 0, but can be called anyways if flow demands it  <a href="#aa966eeec4d0b1643e8cdbae65ab9076d">More...</a><br /></td></tr>
<tr class="separator:aa966eeec4d0b1643e8cdbae65ab9076d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>this function is a wrapper around getaddrinfo (for ipv6) </p>
<p>in the event this code is using ipv6, it calls getaddrinfo, and it tries to start the connection on each iteration in the linked list returned by getaddrinfo. if pSock is not NULL the following behavior happens.</p><ul>
<li>if pSock is a listener, or if the connect state is in a bind vhost state (to be used with bind) AI_PASSIVE is sent to getaddrinfo</li>
<li>if pSock is an outbound connection, AI_ADDRCONFIG and the connection is started from within this function. getaddrinfo might return multiple (possibly invalid depending on system configuration) ip addresses, so connect needs to try them all. A classic example of this is a hostname that resolves to both ipv4 and ipv6 ip's. You still need to call Connect (and ConnectSSL) to finish up the connection state</li>
</ul>
<p>Process can be called in a thread, but Init and Finish must only be called from the parent once the thread is complete </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a88796e7dbb9c7fb21f652351ac920ecb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88796e7dbb9c7fb21f652351ac920ecb">&#9670;&nbsp;</a></span>CGetAddrInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CGetAddrInfo::CGetAddrInfo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="third__party_2Csocket_2examples_2defines_8h.html#a6692c05392220a687252ecd5dacf78ad">CS_STRING</a> &amp;&#160;</td>
          <td class="paramname"><em>sHostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCsock.html">Csock</a> *&#160;</td>
          <td class="paramname"><em>pSock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCSSockAddr.html">CSSockAddr</a> &amp;&#160;</td>
          <td class="paramname"><em>csSockAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ctor </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sHostname</td><td>the host to resolve </td></tr>
    <tr><td class="paramname">pSock</td><td>the sock being setup, this option can be NULL, if it is null csSockAddr is only setup </td></tr>
    <tr><td class="paramname">csSockAddr</td><td>the struct that sockaddr data is being copied to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af12fbc77cedbf0d538e13c5107755249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af12fbc77cedbf0d538e13c5107755249">&#9670;&nbsp;</a></span>~CGetAddrInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CGetAddrInfo::~CGetAddrInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa966eeec4d0b1643e8cdbae65ab9076d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa966eeec4d0b1643e8cdbae65ab9076d">&#9670;&nbsp;</a></span>Finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CGetAddrInfo::Finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>finalizes and sets up csSockAddr (and pSock if not NULL), only needs to be called if Process returns 0, but can be called anyways if flow demands it </p>

</div>
</div>
<a id="aac031f503d2e201468a9984a370483a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac031f503d2e201468a9984a370483a1">&#9670;&nbsp;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CGetAddrInfo::Init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>simply sets up m_cHints for use in process </p>

</div>
</div>
<a id="a315c0fc484347988f22fd4ed42499db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a315c0fc484347988f22fd4ed42499db6">&#9670;&nbsp;</a></span>Process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CGetAddrInfo::Process </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the simplest part of the function, only calls getaddrinfo and uses only m_sHostname, m_pAddrRes, and m_cHints. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Csocket_8h_source.html">Csocket.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 7 2019 11:15:39 for ZNC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
